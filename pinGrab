#!/bin/bash

# pinGrab

# Version 2.0 - 220926@461

# Saves a pintrest pin to a folder (./images)

# Prerequisites 
# pinterest-downloader : https://github.com/yt-dlp/yt-dlp

# Usage
# pinGrab [URL] 
# URL (required) - URL of Pin / User / Board 

# Error Codes
# 1 - dl_folder does not point to a extant folder, if this is pointing to a connected
#     device or remote drive, please check the connection

echo "ğŸŸ¢ pinGrab ğŸŸ¢"
echo "CAMcLeod"
echo "0.0.1 - 230202@669"
echo " "


# ğŸ”§ System Vars

# DL Folder     Download folder path. This will also be where pintrest-downloader will be
#               If the path is non-existent (ie: you haven't 
#               connected the external drive before you run the script) the script 
#               will â€¼ï¸Exit Outâ€¼ï¸ of the script with an error 1

dl_folder="/Volumes/DG_FinFunnel/pinterest-downloader-master"

# ğŸ‘‰ Default to playlist if there's no arguments
if [ $# -eq 0 ]; then
    echo "â€¼ï¸ No Arguments Given!"
    echo "ğŸ‘ Done."
    exit 1
else
    echo "Downloading $url"
    url=$1
fi

# ğŸ‘‰ Go To DL Folder
# â€¼ï¸Exit Outâ€¼ï¸ if dl_folder doesn't exist
if [ -d $dl_folder ]; then 
    echo "ğŸ“‚ Moving To $dl_folder"
    cd $dl_folder
else
    echo "â€¼ï¸ Folder not found!"
    echo "ğŸ‘ Done."
    exit 1
fi

# ğŸ‘‰ Download File(s)
echo "Now Downloading Files(s)"
echo " "
python3 ./pinterest-downloader.py $url
echo " "

#â€¼ï¸Exit Outâ€¼ï¸ of the script gracefully.
echo "ğŸ‘ Done!"
